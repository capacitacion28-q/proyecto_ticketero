{
	"info": {
		"_postman_id": "ticketero-api-collection",
		"name": "Ticketero API",
		"description": "Colecci贸n completa de endpoints para el sistema de tickets",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8081",
			"type": "string"
		}
	],
	"item": [
		{
			"name": " Tickets - P煤blico",
			"item": [
				{
					"name": "Crear Ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nationalId\": \"12345678\",\n  \"phoneNumber\": \"987654321\",\n  \"branchOffice\": \"Sucursal Centro\",\n  \"queueType\": \"GENERAL\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tickets"
							]
						},
						"description": "Crea un nuevo ticket en el sistema"
					}
				},
				{
					"name": "Consultar Ticket por UUID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/{{ticketUuid}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tickets",
								"{{ticketUuid}}"
							]
						},
						"description": "Obtiene informaci贸n de un ticket por su UUID"
					}
				},
				{
					"name": "Consultar Posici贸n por N煤mero",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/G01/position",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tickets",
								"G01",
								"position"
							]
						},
						"description": "Obtiene la posici贸n actual de un ticket por su n煤mero"
					}
				},
				{
					"name": "Consultar Tickets por C茅dula",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/by-national-id/12345678",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tickets",
								"by-national-id",
								"12345678"
							]
						},
						"description": "Obtiene todos los tickets activos de una c茅dula"
					}
				}
			],
			"description": "Endpoints p煤blicos para gesti贸n de tickets desde t贸tems"
		},
		{
			"name": " Dashboard - Admin",
			"item": [
				{
					"name": "Dashboard Completo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/dashboard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"dashboard"
							]
						},
						"description": "Obtiene m茅tricas completas del dashboard"
					}
				},
				{
					"name": "Resumen Dashboard",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"summary"
							]
						},
						"description": "Obtiene resumen simplificado del dashboard"
					}
				},
				{
					"name": "Estado Cola GENERAL",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/queue/GENERAL",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"queue",
								"GENERAL"
							]
						},
						"description": "Obtiene estado de la cola GENERAL"
					}
				},
				{
					"name": "Estado Cola PRIORITY",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/queue/PRIORITY",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"queue",
								"PRIORITY"
							]
						},
						"description": "Obtiene estado de la cola PRIORITY"
					}
				},
				{
					"name": "Estado Cola VIP",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/queue/VIP",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"queue",
								"VIP"
							]
						},
						"description": "Obtiene estado de la cola VIP"
					}
				}
			],
			"description": "Endpoints administrativos para dashboard y m茅tricas"
		},
		{
			"name": " Asesores - Admin",
			"item": [
				{
					"name": "Lista de Asesores",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/advisors",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"advisors"
							]
						},
						"description": "Obtiene lista de todos los asesores"
					}
				},
				{
					"name": "Estad铆sticas de Asesores",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/advisors/stats",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"advisors",
								"stats"
							]
						},
						"description": "Obtiene estad铆sticas detalladas de asesores"
					}
				},
				{
					"name": "Cambiar Estado Asesor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"AVAILABLE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/advisors/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"advisors",
								"1",
								"status"
							]
						},
						"description": "Cambia el estado de un asesor (AVAILABLE, BUSY, BREAK, OFFLINE)"
					}
				}
			],
			"description": "Endpoints administrativos para gesti贸n de asesores"
		},
		{
			"name": " Gesti贸n Tickets - Admin",
			"item": [
				{
					"name": "Actualizar Estado Ticket",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/tickets/1/status?status=ATENDIENDO",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"tickets",
								"1",
								"status"
							],
							"query": [
								{
									"key": "status",
									"value": "ATENDIENDO"
								}
							]
						},
						"description": "Actualiza el estado de un ticket (EN_ESPERA, PROXIMO, ATENDIENDO, COMPLETADO, CANCELADO)"
					}
				},
				{
					"name": "Asignar Ticket a Asesor",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/tickets/1/assign/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"tickets",
								"1",
								"assign",
								"1"
							]
						},
						"description": "Asigna un ticket espec铆fico a un asesor"
					}
				}
			],
			"description": "Endpoints administrativos para gesti贸n de tickets"
		},
		{
			"name": " Health Check",
			"item": [
				{
					"name": "Health Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"health"
							]
						},
						"description": "Verifica el estado de salud de la aplicaci贸n"
					}
				},
				{
					"name": "Application Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/info",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"info"
							]
						},
						"description": "Obtiene informaci贸n de la aplicaci贸n"
					}
				},
				{
					"name": "Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/metrics",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"metrics"
							]
						},
						"description": "Obtiene m茅tricas de la aplicaci贸n"
					}
				}
			],
			"description": "Endpoints de monitoreo y salud de la aplicaci贸n"
		}
	],
	"event": [
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-save ticket UUID from create response",
					"if (pm.response.json() && pm.response.json().codigoReferencia) {",
					"    pm.globals.set('ticketUuid', pm.response.json().codigoReferencia);",
					"}"
				]
			}
		}
	]
}